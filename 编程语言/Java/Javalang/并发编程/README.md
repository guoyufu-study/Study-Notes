# 并发编程

## 历史

* JDK1.0： 线程、锁、内存模型
* JDK1.5：线程池、并发集合 <= 工业级的构建模块
* JDK1.7：fork/join 框架 <= 更实用
* JDK8：Stream API、Lambda 表达式、方法引用。 <= 简易方式利用多核并行
* [Loom](https://wiki.openjdk.java.net/display/loom/Main)：轻量级并发性



***

## Stream API

支持许多处理数据的并行操作。思路类似于数据库查询语言，高级语言表达目的，底层实现选择最佳执行机制。编码更容易，出错更少。

> 多核CPU的每个处理器内核都有独立的高速缓存。加锁需要**高速缓存同步运行**，同时又需要**在内核间进行较慢的缓存一致性协议通信**。

## 行为参数化

行为参数化，即把代码传递给方法，有几种表达方式？

匿名类、匿名函数（Lambda 表达式）、方法引用。后两种方式是**行为参数化的简洁方式**，简化了行为参数化的表达方式。

编写两个方法，它们绝大部分代码相同，只有几行代码不同的，怎么做？

行为参数化。把不同的那部分代码作为参数传递进去。好处是代码更短、更清晰、更不容易出错。