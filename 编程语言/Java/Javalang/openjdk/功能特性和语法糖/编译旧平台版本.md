# 编译旧平台版本

> [JEP 247：编译旧平台版本](https://openjdk.java.net/jeps/247)

> 增强`javac`以便它可以编译 Java 程序以在选定的旧版本平台上运行。

`javac`提供了两个命令行选项，`-source`和`-target`，可以分别用来选择编译器接受的Java语言版本和生成的类文件的版本。但是，默认情况下`javac`会针对最新版本的平台 API 进行编译。因此，编译后的程序可能会意外使用仅在当前平台版本中可用的 API。无论传递给 `-source`和`-target`选项的值如何，此类程序都无法在旧版本的平台上运行。这是一个长期的可用性痛点，因为用户期望通过使用这些选项，他们将获得可以在 -target 指定的平台版本上运行的类文件。

定义了一个新的命令行选项 `--release`，它自动配置编译器以生成将链接到给定平台版本的实现的类文件。

